"use strict";(self["webpackChunkmyapp"]=self["webpackChunkmyapp"]||[]).push([[386],{8045:function(t,r,e){e.r(r),e.d(r,{default:function(){return h}});var s=function(){var t=this,r=t._self._c;return r("div",{staticClass:"order"},[r("van-nav-bar",{staticStyle:{"border-bottom":"0.02667rem solid #dcdcdc"},attrs:{title:"订单详情",fixed:"","left-arrow":""},on:{"click-left":function(r){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[r("van-icon",{attrs:{name:"ellipsis",size:"18"}})]},proxy:!0}])}),r("van-cell-group",{staticClass:"dingdan"},[r("p",[r("span",{staticClass:"title"},[t._v("订单状态：")]),t._v(" "),r("span",{staticClass:"content"},[t._v(t._s(this.order.orderStatusString))])]),r("p",[r("span",{staticClass:"title"},[t._v("订单编号：")]),t._v(" "),r("span",{staticClass:"content"},[t._v(t._s(this.order.orderNo))])]),r("p",[r("span",{staticClass:"title"},[t._v("下单时间：")]),t._v(" "),r("span",{staticClass:"content"},[t._v(t._s(this.order.createTime))])]),"交易成功"!=this.order.orderStatusString&&"手动关闭"!=this.order.orderStatusString?[r("van-button",{attrs:{color:"rgb(27, 174, 174)"},on:{click:function(r){return t.orderStatus(t.order.orderStatus)}}},[t._v(t._s(this.order.orderStatus?"确认收货":"去支付")+" ")]),r("van-button",{attrs:{type:"default"},on:{click:function(r){return t.cancelOrder(t.order.orderStatus)}}},[t._v("取消订单")])]:t._e()],2),r("van-cell-group",{staticClass:"delivery"},[r("p",[r("span",{staticClass:"title"},[t._v("商品金额：")]),t._v(" "),r("span",{staticClass:"content"},[t._v("￥"+t._s(this.order.totalPrice))])]),r("p",[r("span",{staticClass:"title"},[t._v("配送方式：")]),t._v(" "),r("span",{staticClass:"content"},[t._v("普通快递")])])]),t._l(this.order.newBeeMallOrderItemVOS,(function(t){return r("van-card",{key:t.goodsId,attrs:{num:t.goodsCount,price:t.sellingPrice,title:t.goodsName,thumb:t.goodsCoverImg}})})),r("van-popup",{style:{height:"25%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(r){t.show=r},expression:"show"}},[r("van-button",{attrs:{type:"info",color:"rgb(25, 137, 250)"},on:{click:t.payAlipay}},[t._v("支付宝支付")]),r("van-button",{attrs:{type:"primary",color:"rgb(79, 192, 141)"},on:{click:t.wechatPay}},[t._v("微信支付")])],1)],2)},o=[],a=(e(6162),e(4934),e(7894),e(3008),e(8214),e(1738),e(7135),e(6698),e(3102),e(6771),e(7448)),n=e(9547),i={name:"orderDetail",props:[],created(){(0,n.h2)(this.$route.query.id).then((t=>{200===t.resultCode&&(this.order=t.data)}))},data(){return{order:{},isConfirm:!0,payType:0,show:!1}},methods:{orderStatus(t){t?a.Z.confirm({title:"是否确认收货"}).then((()=>{(0,n.B1)(this.order.orderNo).then((t=>{200===t.resultCode&&(0,n.h2)(this.order.orderNo).then((t=>{200===t.resultCode&&(this.order=t.data,console.log(t))}))}))})).catch((()=>{})):this.show=!0},cancelOrder(t){a.Z.confirm({title:"确认取消订单"}).then((()=>{(0,n.Aj)(this.order.orderNo).then((t=>{200===t.resultCode&&((0,n.h2)(this.order.orderNo).then((t=>{200===t.resultCode&&(this.order=t.data,console.log(t))})),this.$toast.success("订单取消成功"))}))})).catch((()=>{}))},payAlipay(){this.payType=1,(0,n.OX)(this.order.orderNo,this.payType).then((t=>{200==t.resultCode&&(this.show=!1,(0,n.h2)(this.order.orderNo).then((t=>{this.order=t.data})),this.$toast.success("支付宝支付成功"))}))},wechatPay(){this.payType=2,(0,n.OX)(this.order.orderNo,this.payType).then((t=>{200==t.resultCode&&(this.show=!1,(0,n.h2)(this.order.orderNo).then((t=>{this.order=t.data})),this.$toast.success("微信支付成功"))}))}}},d=i,c=e(1001),l=(0,c.Z)(d,s,o,!1,null,"7f3d0414",null),h=l.exports}}]);
//# sourceMappingURL=order-detail.79bab626.js.map