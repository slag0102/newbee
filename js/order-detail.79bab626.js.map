{"version":3,"file":"js/order-detail.79bab626.js","mappings":"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","sources":["webpack://myapp/./src/views/orderDetail/orderDetail.vue","webpack://myapp/src/views/orderDetail/orderDetail.vue","webpack://myapp/./src/views/orderDetail/orderDetail.vue?8ba2","webpack://myapp/./src/views/orderDetail/orderDetail.vue?ed95"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order\"},[_c('van-nav-bar',{staticStyle:{\"border-bottom\":\"0.02667rem solid #dcdcdc\"},attrs:{\"title\":\"订单详情\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\",\"size\":\"18\"}})]},proxy:true}])}),_c('van-cell-group',{staticClass:\"dingdan\"},[_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"订单状态：\")]),_vm._v(\" \"),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(this.order.orderStatusString))])]),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"订单编号：\")]),_vm._v(\" \"),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(this.order.orderNo))])]),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"下单时间：\")]),_vm._v(\" \"),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(this.order.createTime))])]),((this.order.orderStatusString == '交易成功') || (this.order.orderStatusString == '手动关闭') ? false : true)?[_c('van-button',{attrs:{\"color\":\"rgb(27, 174, 174)\"},on:{\"click\":function($event){return _vm.orderStatus(_vm.order.orderStatus)}}},[_vm._v(_vm._s(this.order.orderStatus ? '确认收货' : '去支付')+\" \")]),_c('van-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.cancelOrder(_vm.order.orderStatus)}}},[_vm._v(\"取消订单\")])]:_vm._e()],2),_c('van-cell-group',{staticClass:\"delivery\"},[_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"商品金额：\")]),_vm._v(\" \"),_c('span',{staticClass:\"content\"},[_vm._v(\"￥\"+_vm._s(this.order.totalPrice))])]),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"配送方式：\")]),_vm._v(\" \"),_c('span',{staticClass:\"content\"},[_vm._v(\"普通快递\")])])]),_vm._l((this.order.newBeeMallOrderItemVOS),function(item){return _c('van-card',{key:item.goodsId,attrs:{\"num\":item.goodsCount,\"price\":item.sellingPrice,\"title\":item.goodsName,\"thumb\":item.goodsCoverImg}})}),_c('van-popup',{style:({ height: '25%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-button',{attrs:{\"type\":\"info\",\"color\":\"rgb(25, 137, 250)\"},on:{\"click\":_vm.payAlipay}},[_vm._v(\"支付宝支付\")]),_c('van-button',{attrs:{\"type\":\"primary\",\"color\":\"rgb(79, 192, 141)\"},on:{\"click\":_vm.wechatPay}},[_vm._v(\"微信支付\")])],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"order\">\r\n        <!-- 头部 -->\r\n        <van-nav-bar title=\"订单详情\" fixed left-arrow @click-left=\"$router.back()\"\r\n            style=\"border-bottom: 0.02667rem solid #dcdcdc;\">\r\n            <template #right>\r\n                <van-icon name=\"ellipsis\" size=\"18\" />\r\n            </template>\r\n        </van-nav-bar>\r\n        <!--  -->\r\n        <van-cell-group class=\"dingdan\">\r\n            <p> <span class=\"title\">订单状态：</span> <span class=\"content\">{{ this.order.orderStatusString\r\n            \r\n            }}</span></p>\r\n            <p> <span class=\"title\">订单编号：</span> <span class=\"content\">{{ this.order.orderNo }}</span></p>\r\n            <p> <span class=\"title\">下单时间：</span> <span class=\"content\">{{ this.order.createTime }}</span></p>\r\n            <template\r\n                v-if=\"(this.order.orderStatusString == '交易成功') || (this.order.orderStatusString == '手动关闭') ? false : true\">\r\n                <van-button color=\"rgb(27, 174, 174)\" @click=\"orderStatus(order.orderStatus)\">{{ this.order.orderStatus\r\n                        ? '确认收货' : '去支付'\r\n                }}\r\n                </van-button>\r\n                <van-button type=\"default\" @click=\"cancelOrder(order.orderStatus)\">取消订单</van-button>\r\n            </template>\r\n\r\n        </van-cell-group>\r\n        <!--  -->\r\n        <van-cell-group class=\"delivery\">\r\n            <p> <span class=\"title\">商品金额：</span> <span class=\"content\">￥{{ this.order.totalPrice\r\n            }}</span></p>\r\n            <p> <span class=\"title\">配送方式：</span> <span class=\"content\">普通快递</span></p>\r\n        </van-cell-group>\r\n        <!--  -->\r\n        <van-card v-for=\"item in this.order.newBeeMallOrderItemVOS\" :key=\"item.goodsId\" :num=\"item.goodsCount\"\r\n            :price=\"item.sellingPrice\" :title=\"item.goodsName\" :thumb=\"item.goodsCoverImg\" />\r\n        <!--  -->\r\n        <van-popup v-model=\"show\" position=\"bottom\" :style=\"{ height: '25%' }\">\r\n            <van-button type=\"info\" color=\"rgb(25, 137, 250)\" @click=\"payAlipay\">支付宝支付</van-button>\r\n            <van-button type=\"primary\" color=\"rgb(79, 192, 141)\" @click=\"wechatPay\">微信支付</van-button>\r\n        </van-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Dialog } from 'vant';\r\nimport { orderPay, confirmPayment, Alipay, cancelPayment } from \"@/api/index\"\r\nexport default {\r\n    name: \"orderDetail\",\r\n    props: [],\r\n    created() {\r\n        orderPay(this.$route.query.id).then(data => {\r\n            if (data.resultCode === 200) {\r\n                this.order = data.data\r\n                // console.log(this.order);\r\n            }\r\n\r\n        })\r\n    },\r\n    data() {\r\n        return {\r\n            order: {},//订单数据\r\n            isConfirm: true,//显示去支付和取消订单\r\n            payType: 0, //支付方式\r\n            show: false, //\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        //    去支付或确认支付\r\n        orderStatus(val) {\r\n            // console.log(val);\r\n            // 已支付，点击确认支付\r\n            if (val) {\r\n                // console.log(val);\r\n                Dialog.confirm({\r\n                    title: '是否确认收货',\r\n                })\r\n                    .then(() => {\r\n                        // 点击确定\r\n                        confirmPayment(this.order.orderNo).then(data => {\r\n                            if (data.resultCode === 200) {\r\n                                orderPay(this.order.orderNo).then(data => {\r\n                                    if (data.resultCode === 200) {\r\n                                        this.order = data.data\r\n                                        console.log(data)\r\n                                    }\r\n                                })\r\n                            }\r\n                        })\r\n                    })\r\n                    .catch(() => {\r\n                        //  点击取消\r\n                    });\r\n            } else {\r\n                // 点击去支付\r\n                // 显示支付方式\r\n                this.show = true;\r\n\r\n            }\r\n        },\r\n        // 取消订单\r\n        cancelOrder(val) {\r\n            // 确认取消订单\r\n            // console.log(val);\r\n            // if (!val) {\r\n            Dialog.confirm({\r\n                title: '确认取消订单',\r\n            })\r\n                .then(() => {\r\n                    // 点击确定\r\n                    cancelPayment(this.order.orderNo).then(data => {\r\n                        if (data.resultCode === 200) {\r\n                            orderPay(this.order.orderNo).then(data => {\r\n                                if (data.resultCode === 200) {\r\n                                    this.order = data.data\r\n                                    console.log(data)\r\n                                }\r\n                            })\r\n                            this.$toast.success('订单取消成功');\r\n                        }\r\n                    })\r\n                })\r\n                .catch(() => {\r\n\r\n                });\r\n            // } else {\r\n\r\n\r\n            // }\r\n        },\r\n        // 支付宝支付\r\n        payAlipay() {\r\n            // console.log(this.order.orderNo);\r\n            this.payType = 1\r\n            Alipay(this.order.orderNo, this.payType).then(data => {\r\n                if (data.resultCode == 200) {\r\n                    this.show = false\r\n                    // console.log(data);\r\n                    // this.statusCod=1\r\n                    orderPay(this.order.orderNo).then(data => {\r\n                        this.order = data.data\r\n                        // console.log(data);\r\n                    })\r\n                    this.$toast.success('支付宝支付成功');\r\n                }\r\n\r\n            })\r\n\r\n        },\r\n        // 微信支付\r\n        wechatPay() {\r\n            this.payType = 2\r\n            Alipay(this.order.orderNo, this.payType).then(data => {\r\n                if (data.resultCode == 200) {\r\n                    this.show = false\r\n                    orderPay(this.order.orderNo).then(data => {\r\n                        this.order = data.data\r\n                    })\r\n                    this.$toast.success('微信支付成功');\r\n                }\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/.van-nav-bar .van-icon {\r\n    color: #252525;\r\n}\r\n\r\n.order {\r\n    height: 100%;\r\n    background-color: #f7f7f7;\r\n}\r\n\r\n/deep/.dingdan {\r\n    padding: 60px 20px 10px 20px;\r\n}\r\n\r\n.delivery {\r\n    margin-top: 20px;\r\n    box-sizing: border-box;\r\n    padding: 20px 20px;\r\n\r\n}\r\n\r\n.title {\r\n    color: #999;\r\n    font-size: 15px\r\n}\r\n\r\n.content {\r\n    color: #2c3e50;\r\n    font-size: 15px\r\n}\r\n\r\n.van-button {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    margin: 10px 0px 0px;\r\n    padding: 10px 0px;\r\n}\r\n\r\n.van-card {\r\n    background-color: white;\r\n    margin-top: 20px;\r\n}\r\n\r\n.van-card__content {\r\n    box-sizing: border-box;\r\n    padding: 20px 0px;\r\n}\r\n\r\n.van-button {\r\n    width: 100%;\r\n    border-radius: 0px;\r\n}\r\n\r\n/deep/.van-overlay {\r\n    margin-top: 46px;\r\n}\r\n\r\n.van-popup--bottom {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    padding: 15px 0px 40px 0px;\r\n\r\n    /deep/.van-button--normal {\r\n        width: 90%;\r\n        margin-top: 0px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orderDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orderDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderDetail.vue?vue&type=template&id=7f3d0414&scoped=true&\"\nimport script from \"./orderDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderDetail.vue?vue&type=style&index=0&id=7f3d0414&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f3d0414\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","proxy","_v","_s","order","orderStatusString","orderNo","createTime","orderStatus","cancelOrder","_e","totalPrice","_l","newBeeMallOrderItemVOS","item","goodsId","goodsCount","sellingPrice","goodsName","goodsCoverImg","style","height","model","value","show","callback","$$v","expression","payAlipay","wechatPay","staticRenderFns","name","props","created","orderPay","data","isConfirm","payType","methods","title","then","confirmPayment","console","catch","cancelPayment","Alipay","component"],"sourceRoot":""}