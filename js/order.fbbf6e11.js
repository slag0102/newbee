"use strict";(self["webpackChunkmyapp"]=self["webpackChunkmyapp"]||[]).push([[637],{5408:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{staticStyle:{"border-bottom":"2px solid #dcdcdc","margin-bottom":"10px"},attrs:{fixed:"",title:"我的订单","left-arrow":""},on:{"click-left":function(e){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"ellipsis",size:"18"}})]},proxy:!0}])}),e("van-tabs",{model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.tabs,(function(t){return e("van-tab",{key:t.state,attrs:{title:t.text}})})),1),e("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(s){return e("van-cell",{key:s.orderId,on:{click:function(e){return t.pay(s.orderNo)}}},[e("p",[e("span",[t._v(t._s("订单时间："+s.createTime))]),e("span",[t._v(t._s(s.orderStatusString))])]),t._l(s.newBeeMallOrderItemVOS,(function(t){return e("van-card",{key:t.goodsId,attrs:{num:t.goodsCount,price:t.sellingPrice,title:t.goodsName,thumb:t.goodsCoverImg}})}))],2)})),1)],1)],1)},n=[],r=s(9547),a={name:"order",props:[],created(){this.orderNo=this.$route.query.orderNo,this.onLoad()},data(){return{tabs:[{text:"全部",state:""},{text:"待付款",state:"0"},{text:"待确认",state:"1"},{text:"待发货",state:"2"},{text:"已发货",state:"3"},{text:"交易完成",state:"4"}],list:[],loading:!1,finished:!1,refreshing:!1,pageNumber:1,status:"",index:0,orderNo:"",orderdata:{},refreshing:!1}},methods:{onLoad(){(0,r.Fw)(this.pageNumber++,this.status).then((t=>{200===t.resultCode&&(0==t.data.list.length&&(this.finished=!0),this.list=this.list.concat(t.data.list),this.loading=!1,this.refreshing=!1)}))},onRefresh(){this.finished=!1,this.loading=!0,this.onLoad()},pay(t){(0,r.h2)(t).then((e=>{200===e.resultCode&&this.$router.push("/order-detail?id="+t)}))}},watch:{index(t){this.status=this.tabs[t].state,this.pageNumber=1,this.list=[],this.finished=!1,this.onLoad()}}},o=a,d=s(1001),l=(0,d.Z)(o,i,n,!1,null,"0f28c0da",null),h=l.exports}}]);
//# sourceMappingURL=order.fbbf6e11.js.map