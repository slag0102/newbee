{"version":3,"file":"js/order.fbbf6e11.js","mappings":"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","sources":["webpack://myapp/./src/views/Order/Order.vue","webpack://myapp/src/views/Order/Order.vue","webpack://myapp/./src/views/Order/Order.vue?33a1","webpack://myapp/./src/views/Order/Order.vue?9c5b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{staticStyle:{\"border-bottom\":\"2px solid #dcdcdc\",\"margin-bottom\":\"10px\"},attrs:{\"fixed\":\"\",\"title\":\"我的订单\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\",\"size\":\"18\"}})]},proxy:true}])}),_c('van-tabs',{model:{value:(_vm.index),callback:function ($$v) {_vm.index=$$v},expression:\"index\"}},_vm._l((_vm.tabs),function(item){return _c('van-tab',{key:item.state,attrs:{\"title\":item.text}})}),1),_c('van-pull-refresh',{attrs:{\"success-text\":\"刷新成功\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.refreshing),callback:function ($$v) {_vm.refreshing=$$v},expression:\"refreshing\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('van-cell',{key:item.orderId,on:{\"click\":function($event){return _vm.pay(item.orderNo)}}},[_c('p',[_c('span',[_vm._v(_vm._s('订单时间：' + item.createTime))]),_c('span',[_vm._v(_vm._s(item.orderStatusString))])]),_vm._l((item.newBeeMallOrderItemVOS),function(v){return _c('van-card',{key:v.goodsId,attrs:{\"num\":v.goodsCount,\"price\":v.sellingPrice,\"title\":v.goodsName,\"thumb\":v.goodsCoverImg}})})],2)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- 头部 -->\r\n        <van-nav-bar fixed title=\"我的订单\" left-arrow @click-left=\"$router.back()\"\r\n            style=\"border-bottom: 2px solid #dcdcdc;margin-bottom: 10px;\">\r\n            <template #right>\r\n                <van-icon name=\"ellipsis\" size=\"18\" />\r\n            </template>\r\n        </van-nav-bar>\r\n        <!--  -->\r\n\r\n        <van-tabs v-model=\"index\">\r\n            <van-tab v-for=\"item in tabs\" :key=\"item.state\" :title=\"item.text\">\r\n            </van-tab>\r\n        </van-tabs>\r\n        <!--  -->\r\n        <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\" success-text=\"刷新成功\">\r\n            <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\"\r\n                :immediate-check=\"false\">\r\n                <van-cell v-for=\"item in list\" :key=\"item.orderId\" @click=\"pay(item.orderNo)\">\r\n                    <p><span>{{ '订单时间：' + item.createTime }}</span><span>{{ item.orderStatusString }}</span></p>\r\n                    <van-card v-for=\"v in item.newBeeMallOrderItemVOS\" :key=\"v.goodsId\" :num=\"v.goodsCount\"\r\n                        :price=\"v.sellingPrice\" :title=\"v.goodsName\" :thumb=\"v.goodsCoverImg\" />\r\n                </van-cell>\r\n            </van-list>\r\n        </van-pull-refresh>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderList, orderPay } from \"@/api/index\"\r\nexport default {\r\n    name: \"order\",\r\n    props: [],\r\n    created() {\r\n        // console.log(this.$route.query.orderNo);\r\n        this.orderNo = this.$route.query.orderNo\r\n        this.onLoad()\r\n    },\r\n    data() {\r\n        return {\r\n            tabs: [\r\n                {\r\n                    text: '全部',\r\n                    state: ''\r\n                },\r\n                {\r\n                    text: '待付款',\r\n                    state: \"0\",\r\n                },\r\n                {\r\n                    text: '待确认',\r\n                    state: '1'\r\n                },\r\n                {\r\n                    text: '待发货',\r\n                    state: \"2\",\r\n                },\r\n                {\r\n                    text: '已发货',\r\n                    state: '3'\r\n                },\r\n                {\r\n                    text: '交易完成',\r\n                    state: \"4\",\r\n                }\r\n            ],\r\n            list: [],\r\n            loading: false,\r\n            finished: false,\r\n            refreshing: false,\r\n            pageNumber: 1,\r\n            status: '',\r\n            index: 0,\r\n            orderNo: '',\r\n            orderdata: {},\r\n            refreshing: false,\r\n        }\r\n    },\r\n    methods: {\r\n        onLoad() {\r\n            // console.log(\"load\");\r\n            getOrderList(this.pageNumber++, this.status).then(data => {\r\n                if (data.resultCode === 200) {\r\n                    if (data.data.list.length == 0) {\r\n                        this.finished = true;\r\n                    }\r\n                    // console.log(data);\r\n                    this.list = this.list.concat(data.data.list)\r\n                    this.loading = false;\r\n                    this.refreshing = false;\r\n                }\r\n                \r\n            })\r\n        },\r\n        // 下拉加载\r\n        onRefresh() {\r\n            // 清空列表数据\r\n            this.finished = false;\r\n            // 重新加载数据\r\n            // 将 loading 设置为 true，表示处于加载状态\r\n            this.loading = true;\r\n            this.onLoad();\r\n        },\r\n        pay(orderNo) {\r\n            // console.log(\"....\");\r\n            orderPay(orderNo).then(data => {\r\n                if (data.resultCode === 200) {\r\n                    // this.orderdata = data.data\r\n                    // this.$bus.$emit('orderDetail', this.orderdata)\r\n                    this.$router.push(\"/order-detail?id=\" + orderNo)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    watch: {\r\n        index(val) {\r\n            // console.log(val);\r\n            this.status = this.tabs[val].state;\r\n            this.pageNumber = 1;\r\n            this.list = [];\r\n            this.finished = false;\r\n            this.onLoad();\r\n        }\r\n    }\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/.van-nav-bar .van-icon {\r\n    color: #252525;\r\n}\r\n\r\n/deep/.van-tabs__wrap {\r\n    position: fixed;\r\n    top: 48px;\r\n    z-index: 300;\r\n}\r\n\r\n/deep/.van-tab {\r\n    box-sizing: border-box;\r\n    padding: 0px 20px;\r\n}\r\n\r\n.van-list {\r\n    margin-top: 92px;\r\n}\r\n\r\n.van-card__content {\r\n    box-sizing: border-box;\r\n    padding: 10px 0px;\r\n}\r\n\r\np {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    box-sizing: border-box;\r\n    padding: 10px 10px 0px;\r\n    font-size: 12px;\r\n\r\n}\r\n\r\n.van-list {\r\n    background-color: #f9f9f9;\r\n}\r\n\r\n/deep/.van-cell {\r\n    padding: 0px;\r\n    width: 94%;\r\n    margin: 20px auto;\r\n}\r\n\r\n.van-card {\r\n    background-color: white;\r\n    margin: 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=0f28c0da&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=0f28c0da&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f28c0da\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","proxy","model","value","index","callback","$$v","expression","_l","tabs","item","state","text","onRefresh","refreshing","finished","onLoad","loading","list","orderId","pay","orderNo","_v","_s","createTime","orderStatusString","newBeeMallOrderItemVOS","v","goodsId","goodsCount","sellingPrice","goodsName","goodsCoverImg","staticRenderFns","name","props","created","data","pageNumber","status","orderdata","methods","getOrderList","orderPay","watch","component"],"sourceRoot":""}